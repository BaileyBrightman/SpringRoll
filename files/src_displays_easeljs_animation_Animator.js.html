<!DOCTYPE html>
<html lang='en'>
<head>
	<title>SpringRoll v0.4.0 API Documentation : src/displays/easeljs/animation/Animator.js</title>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
	<link rel='shortcut icon' type='image/png' href='../assets/images/favicon.ico?v=0.4.0'>
	<link href='//fonts.googleapis.com/css?family=Titillium+Web:300,200,600' rel='stylesheet' type='text/css'>
	<link rel='stylesheet' type='text/css' href='../assets/css/libraries.css?v=0.4.0'>
	<link rel='stylesheet' type='text/css' href='../assets/css/main.css?v=0.4.0'>
</head>
<body>
<header>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class='container'>
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#docs-navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href='https://github.com/SpringRoll/SpringRoll'>
						<img src='../assets/images/logo.png?v=0.4.0' class="logo">
					<span class='project-name'>SpringRoll</span>
					<span class="sr-only">API Documentation for:</span>
					<span class='version hidden-xs'>v0.4.0</span>
				</a>
			</div>
			<div class="collapse navbar-collapse" id="docs-navbar">
	      <ul class="scope-toggles text-center nav navbar-nav navbar-right">
					<li><input class='scope-toggle' 
						id='toggle-inherited' 
						type='checkbox' 
						data-toggle='toggle' 
						data-on='Inherited' 
						data-off='Inherited' 
						data-size='mini'
						data-width='80'>
					</li>
					<li><input class='scope-toggle' 
						id='toggle-protected' 
						type='checkbox' 
						data-toggle='toggle' 
						data-on='Protected' 
						data-off='Protected' 
						data-size='mini'
						data-width='80'>
					</li>
					<li><input class='scope-toggle' 
						id='toggle-private' 
						type='checkbox' 
						data-toggle='toggle' 
						data-on='Private' 
						data-off='Private' 
						data-size='mini'
						data-width='80'>
					</li>
					<li><input class='scope-toggle' 
						id='toggle-deprecated' 
						type='checkbox' 
						data-toggle='toggle' 
						data-on='Deprecated' 
						data-off='Deprecated' 
						data-size='mini'
						data-width='80'>
					</li>
				</ul>
			</div>
		</div>
	</nav>
</header>
<div class='container'>
<div class='row'>
<nav id='sidebar' class='col-sm-4 col-md-3'>
<h2>APIs</h2>
<div class='input-group'>
  <div class='input-group-addon'>
    <span class='glyphicon glyphicon-search'></span>
  </div>
  <input type='search' class='form-control' id='api-filter' placeholder='Type to filter APIs'>
  <span class='collapsed btn-close glyphicon glyphicon-remove-sign hidden'></span>
</div>
<nav class='navbar navbar-default'>
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="btn-group" role="group" aria-label="...">
    <button type="button" class="sidebar-toggle collapsed btn btn-default" id='toggle-classes' data-target='#classes-collapse'>
      Classes
      <span class='collapsed glyphicon glyphicon-chevron-up'></span>
      <span class='expanded glyphicon glyphicon-chevron-down'></span>
    </button>
    <button type="button" class="sidebar-toggle collapsed btn btn-default" id='toggle-modules' data-target='#modules-collapse'>
      Modules
      <span class='collapsed glyphicon glyphicon-chevron-up'></span>
      <span class='expanded glyphicon glyphicon-chevron-down'></span>
    </button>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class='collapse' id='classes-collapse'>
    <ul class='nav navbar-nav'>
        <li class='public'>
          <a href='../classes/createjs.Container.html'>createjs.Container</a>
        </li>
        <li class='public'>
          <a href='../classes/createjs.MovieClip.html'>createjs.MovieClip</a>
        </li>
        <li class='public'>
          <a href='../classes/createjs.Point.html'>createjs.Point</a>
        </li>
        <li class='public'>
          <a href='../classes/createjs.RequestUtils.html'>createjs.RequestUtils</a>
        </li>
        <li class='public'>
          <a href='../classes/createjs.SpriteSheet.html'>createjs.SpriteSheet</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.BitmapText.html'>PIXI.BitmapText</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.Container.html'>PIXI.Container</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.InteractionManager.html'>PIXI.InteractionManager</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.Point.html'>PIXI.Point</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.Sector.html'>PIXI.Sector</a>
        </li>
        <li class='public'>
          <a href='../classes/PIXI.Text.html'>PIXI.Text</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AbstractDisplay.html'>springroll.AbstractDisplay</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AbstractHint.html'>springroll.AbstractHint</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AnimatorHint.html'>springroll.AnimatorHint</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Application.html'>springroll.Application</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.ApplicationOptions.html'>springroll.ApplicationOptions</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.ApplicationPlugin.html'>springroll.ApplicationPlugin</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AssetCache.html'>springroll.AssetCache</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AssetLoad.html'>springroll.AssetLoad</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.AssetManager.html'>springroll.AssetManager</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.AssetSizes.html'>springroll.AssetSizes</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.CacheManager.html'>springroll.CacheManager</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Captions.html'>springroll.Captions</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.ColorAlphaTask.html'>springroll.ColorAlphaTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.CombinedCallback.html'>springroll.CombinedCallback</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Container.html'>springroll.Container</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Debug.html'>springroll.Debug</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.DebugOptions.html'>springroll.DebugOptions</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.DelayedCall.html'>springroll.DelayedCall</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.Animator.html'>springroll.easeljs.Animator</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.AnimatorTimeline.html'>springroll.easeljs.AnimatorTimeline</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.BasePanel.html'>springroll.easeljs.BasePanel</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.BaseState.html'>springroll.easeljs.BaseState</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.BitmapMovieClip.html'>springroll.easeljs.BitmapMovieClip</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.BitmapMovieClipTask.html'>springroll.easeljs.BitmapMovieClipTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.BitmapTask.html'>springroll.easeljs.BitmapTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.BitmapUtils.html'>springroll.easeljs.BitmapUtils</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.Button.html'>springroll.easeljs.Button</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.Cutscene.html'>springroll.easeljs.Cutscene</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.CutsceneTask.html'>springroll.easeljs.CutsceneTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.DisplayAdapter.html'>springroll.easeljs.DisplayAdapter</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.DragManager.html'>springroll.easeljs.DragManager</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.DwellTimer.html'>springroll.easeljs.DwellTimer</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.EaselJSDisplay.html'>springroll.easeljs.EaselJSDisplay</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.FlashArt.html'>springroll.easeljs.FlashArt</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.FlashArtAtlasTask.html'>springroll.easeljs.FlashArtAtlasTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.FlashArtTask.html'>springroll.easeljs.FlashArtTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.FlashSpriteSheetTask.html'>springroll.easeljs.FlashSpriteSheetTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.ReversePlayback.html'>springroll.easeljs.ReversePlayback</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.SoundButton.html'>springroll.easeljs.SoundButton</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.SoundTask.html'>springroll.easeljs.SoundTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.SpriteSheetTask.html'>springroll.easeljs.SpriteSheetTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.Texture.html'>springroll.easeljs.Texture</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.easeljs.TextureAtlas.html'>springroll.easeljs.TextureAtlas</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.easeljs.TextureAtlasTask.html'>springroll.easeljs.TextureAtlasTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Enum.html'>springroll.Enum</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.EnumValue.html'>springroll.EnumValue</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.EventCatalog.html'>springroll.EventCatalog</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.EventDispatcher.html'>springroll.EventDispatcher</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.EventError.html'>springroll.EventError</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.EventSignature.html'>springroll.EventSignature</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.EventUtils.html'>springroll.EventUtils</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Features.html'>springroll.Features</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.FunctionHint.html'>springroll.FunctionHint</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.FunctionTask.html'>springroll.FunctionTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.GroupHint.html'>springroll.GroupHint</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.HintsPlayer.html'>springroll.HintsPlayer</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Languages.html'>springroll.Languages</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Learning.html'>springroll.Learning</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.LearningError.html'>springroll.LearningError</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.LearningMedia.html'>springroll.LearningMedia</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.ListTask.html'>springroll.ListTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Loader.html'>springroll.Loader</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.LoaderItem.html'>springroll.LoaderItem</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.LoaderResult.html'>springroll.LoaderResult</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.LoadTask.html'>springroll.LoadTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.Circle.html'>springroll.native.Circle</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.DisplayAdapter.html'>springroll.native.DisplayAdapter</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.Ellipse.html'>springroll.native.Ellipse</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.NativeDisplay.html'>springroll.native.NativeDisplay</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.Point.html'>springroll.native.Point</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.Polygon.html'>springroll.native.Polygon</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.native.Rectangle.html'>springroll.native.Rectangle</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.PageVisibility.html'>springroll.PageVisibility</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.AdvancedMovieClip.html'>springroll.pixi.AdvancedMovieClip</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.AdvancedMovieClipTask.html'>springroll.pixi.AdvancedMovieClipTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.Animator.html'>springroll.pixi.Animator</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.AnimatorTimeline.html'>springroll.pixi.AnimatorTimeline</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.BitmapFontTask.html'>springroll.pixi.BitmapFontTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.Button.html'>springroll.pixi.Button</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.DisplayAdapter.html'>springroll.pixi.DisplayAdapter</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.DragManager.html'>springroll.pixi.DragManager</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.ParallelSpineData.html'>springroll.pixi.ParallelSpineData</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.PixiDisplay.html'>springroll.pixi.PixiDisplay</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.SpineAnimTask.html'>springroll.pixi.SpineAnimTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.SpineAtlas.html'>springroll.pixi.SpineAtlas</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.SpineAtlasTask.html'>springroll.pixi.SpineAtlasTask</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.pixi.TextureAtlas.html'>springroll.pixi.TextureAtlas</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.TextureAtlasTask.html'>springroll.pixi.TextureAtlasTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.pixi.TextureTask.html'>springroll.pixi.TextureTask</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.Positioner.html'>springroll.Positioner</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.PropertyDispatcher.html'>springroll.PropertyDispatcher</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.SavedData.html'>springroll.SavedData</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.ScaleItem.html'>springroll.ScaleItem</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.ScaleManager.html'>springroll.ScaleManager</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.Sound.html'>springroll.Sound</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.SoundContext.html'>springroll.SoundContext</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.SoundInstance.html'>springroll.SoundInstance</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.State.html'>springroll.State</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.StateEvent.html'>springroll.StateEvent</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.StateManager.html'>springroll.StateManager</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.StringFilters.html'>springroll.StringFilters</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.Task.html'>springroll.Task</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.TickerPlugin.html'>springroll.TickerPlugin</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.TimeUtils.html'>springroll.TimeUtils</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.ValidationError.html'>springroll.ValidationError</a>
        </li>
        <li class='private'>
          <a href='../classes/springroll.VOHint.html'>springroll.VOHint</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.VOPlayer.html'>springroll.VOPlayer</a>
        </li>
        <li class='public'>
          <a href='../classes/springroll.WeightedRandom.html'>springroll.WeightedRandom</a>
        </li>
        <li class='public'>
          <a href='../classes/window.Array.html'>window.Array</a>
        </li>
        <li class='public'>
          <a href='../classes/window.extend.html'>window.extend</a>
        </li>
        <li class='public'>
          <a href='../classes/window.include.html'>window.include</a>
        </li>
        <li class='public'>
          <a href='../classes/window.Math.html'>window.Math</a>
        </li>
        <li class='public'>
          <a href='../classes/window.mixin.html'>window.mixin</a>
        </li>
        <li class='public'>
          <a href='../classes/window.namespace.html'>window.namespace</a>
        </li>
        <li class='public'>
          <a href='../classes/window.Number.html'>window.Number</a>
        </li>
        <li class='public'>
          <a href='../classes/window.Object.html'>window.Object</a>
        </li>
        <li class='public'>
          <a href='../classes/window.String.html'>window.String</a>
        </li>
    </ul>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class='collapse' id='modules-collapse'>
    <ul class='nav navbar-nav'>
        <li class=''>
          <a href='../modules/Captions.html'>Captions</a>
        </li>
        <li class=''>
          <a href='../modules/Container.html'>Container</a>
        </li>
        <li class=''>
          <a href='../modules/Container Client.html'>Container Client</a>
        </li>
        <li class=''>
          <a href='../modules/Core.html'>Core</a>
        </li>
        <li class=''>
          <a href='../modules/Debug.html'>Debug</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS Animation.html'>EaselJS Animation</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS Cutscene.html'>EaselJS Cutscene</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS Display.html'>EaselJS Display</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS Learning.html'>EaselJS Learning</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS States.html'>EaselJS States</a>
        </li>
        <li class=''>
          <a href='../modules/EaselJS UI.html'>EaselJS UI</a>
        </li>
        <li class=''>
          <a href='../modules/Hints.html'>Hints</a>
        </li>
        <li class=''>
          <a href='../modules/Languages.html'>Languages</a>
        </li>
        <li class=''>
          <a href='../modules/Learning.html'>Learning</a>
        </li>
        <li class=''>
          <a href='../modules/Learning Media.html'>Learning Media</a>
        </li>
        <li class=''>
          <a href='../modules/Native Display.html'>Native Display</a>
        </li>
        <li class=''>
          <a href='../modules/PIXI Animation.html'>PIXI Animation</a>
        </li>
        <li class=''>
          <a href='../modules/Pixi Animation.html'>Pixi Animation</a>
        </li>
        <li class=''>
          <a href='../modules/Pixi Display.html'>Pixi Display</a>
        </li>
        <li class=''>
          <a href='../modules/PIXI Display.html'>PIXI Display</a>
        </li>
        <li class=''>
          <a href='../modules/PIXI UI.html'>PIXI UI</a>
        </li>
        <li class=''>
          <a href='../modules/Sound.html'>Sound</a>
        </li>
        <li class=''>
          <a href='../modules/States.html'>States</a>
        </li>
        <li class=''>
          <a href='../modules/UI.html'>UI</a>
        </li>
    </ul>
  </div>
  <!-- /.container-fluid -->
</nav></nav>
<div class='col-sm-8 col-md-9'>
<div id='docs-main' class='apidocs'>
<h1 class="file-heading">File:Animator.js</h1>

<div class="file">
<pre class="code prettyprint linenums">/**
 * @module EaselJS Animation
 * @namespace springroll.easeljs
 * @requires Core, EaselJS Display
 */
(function(undefined)
{
	// Imports
	var Application = include(&#x27;springroll.Application&#x27;),
		AnimatorTimeline = include(&#x27;springroll.easeljs.AnimatorTimeline&#x27;),
		Debug,
		Sound;

	/**
	 * Animator is a static class designed to provided
	 * base animation functionality, using frame labels of MovieClips
	 *
	 * @class Animator
	 * @static
	 */
	var Animator = {};

	/**
	 * If we fire debug statements
	 *
	 * @property {Boolean} debug
	 * @public
	 * @static
	 */
	Animator.debug = false;

	/**
	 * The global captions object to use with animator
	 * @property {springroll.Captions} captions
	 * @public
	 * @static
	 */
	Animator.captions = null;

	/**
	 * The collection of timelines
	 *
	 * @property {Array} _timelines
	 * @private
	 */
	var _timelines = null;

	/**
	 * A collection of timelines for removal - kept out here so it doesn&#x27;t need to be
	 * reallocated every frame
	 *
	 * @property {Array} _removedTimelines
	 * @private
	 */
	var _removedTimelines = null;

	/** Look up a timeline by the instance
	 *
	 * @property {Dictionary} _timelinesMap
	 * @private
	 */
	var _timelinesMap = null;

	/**
	 * If the Animator is paused
	 *
	 * @property {Boolean} _paused
	 * @private
	 */
	var _paused = false;

	/**
	 * Sets the variables of the Animator to their defaults. Use when _timelines is null,
	 * if the Animator data was cleaned up but was needed again later.
	 *
	 * @method init
	 * @static
	 */
	Animator.init = function()
	{
		_timelines = [];
		_removedTimelines = [];
		_timelinesMap = {};
		_paused = false;

		Sound = include(&#x27;springroll.Sound&#x27;, false);
		Debug = include(&#x27;springroll.Debug&#x27;, false);
	};

	/**
	 * Stops all animations and cleans up the variables used.
	 *
	 * @method destroy
	 * @static
	 */
	Animator.destroy = function()
	{
		Animator.stopAll(null, true);
		Animator.captions = null;

		_timelines = null;
		_removedTimelines = null;
		_timelinesMap = null;
	};

	/**
	 * Play an animation for a frame label event
	 *
	 * @method play
	 * @param {createjs.DisplayObject} instance The MovieClip or display object with the same API
	 *                                       to animate.
	 * @param {String|Object|Array} eventList One of or an array of the following
	 * * objects in the format:
	 *
	 *      {
	 *          anim:&quot;myAnim&quot;,
	 *          start:0,
	 *          speed:1,
	 *          audio:{alias:&quot;MyAlias&quot;, start:300}
	 *      }
	 *
	 *  * anim is the frame label of the animation to play, e.g. &quot;onClose&quot; to &quot;onClose_stop&quot;.
	 *  * start is milliseconds into the animation to start (0 if omitted). A value of -1
	 *      starts from a random time in the animation.
	 *  * speed is a multiplier for the animation speed (1 if omitted).
	 *  * audio is audio to sync the animation to using springroll.Sound. audio can be a String
	 *      if you want the audio to start 0 milliseconds into the animation.
	 * * strings - frame labels, e.g. &quot;onClose&quot; to &quot;onClose_stop&quot;.
	 * * numbers - milliseconds to wait.
	 * * functions - called upon reaching, followed immediately by the next item.
	 * @param {Function} [onComplete] The callback function for when the animation is done.
	 * @param {Function|Boolean} [onCancelled] A callback function for when an animation is
	 *                                       stopped with Animator.stop() or to play another
	 *                                       animation. A value of &#x27;true&#x27; uses onComplete for
	 *                                       onCancelled.
	 * @return {springroll.easeljs.AnimatorTimeline} The Timeline object that represents this play() call.
	 * @static
	 */
	Animator.play = function(instance, eventList, onComplete, onCancelled)
	{
		var audio, options;

		if (onComplete &amp;&amp; typeof onComplete != &quot;function&quot;)
		{
			options = onComplete;
			onComplete = options.onComplete;
			onCancelled = options.onCancelled;
		}
		else if (onCancelled === true)
		{
			onCancelled = onComplete;
		}
		//deprecation fallback
		if (typeof eventList == &quot;string&quot; &amp;&amp; options)
		{
			audio = options.audio || options.soundData || null;
			eventList = {
				anim: eventList,
				audio: audio
			};
		}
		if (!Array.isArray(eventList))
			eventList = [eventList];

		if (!_timelines)
			Animator.init();

		if (_timelinesMap[instance.id] !== undefined)
		{
			Animator.stop(instance);
		}
		var timeline = Animator._makeTimeline(instance, eventList, onComplete, onCancelled);

		//if the animation is present and complete
		if (timeline.eventList &amp;&amp; timeline.eventList.length &gt;= 1)
		{
			timeline._nextItem(); //advance the timeline to the first item

			instance.elapsedTime = timeline.startTime + timeline._time_sec;
			//have it set its &#x27;paused&#x27; variable to false
			instance.play();
			//update the movieclip to make sure it is redrawn correctly at the next opportunity
			instance.advance();

			// Before we add the timeline, we should check to see
			// if there are no timelines, then start the enter frame
			// updating
			if (!Animator._hasTimelines()) Animator._startUpdate();

			_timelines.push(timeline);
			_timelinesMap[instance.id] = timeline;

			return timeline;
		}

		if (DEBUG &amp;&amp; Debug)
		{
			var label = eventList[0].anim ||
				eventList[0].audio ||
				eventList[0] ||
				&#x27;&lt;label unknown&gt;&#x27;;
			var readableInstance = instance.id ||
				instance.name ||
				instance.key ||
				instance.label ||
				instance.toString() ||
				instance;
			Debug.groupCollapsed(&quot;No valid animation label \&quot;&quot; + label + &quot;\&quot; in MovieClip &quot; + readableInstance);
			Debug.red(&quot;eventList:&quot;, eventList);
			Debug.red(&quot;instance:&quot;, instance);
			Debug.trace(&quot;Animator.play&quot;);
			Debug.groupEnd();
		}

		if (onComplete)
		{
			onComplete();
		}
		return null;
	};

	/**
	 * Creates the AnimatorTimeline for a given animation
	 *
	 * @method _makeTimeline
	 * @param {createjs.MovieClip} instance The instance to animate
	 * @param {Array} eventList List of animation events
	 * @param {Function} onComplete The function to callback when we&#x27;re done
	 * @param {Function} onCancelled The function to callback when cancelled
	 * @return {springroll.easeljs.AnimatorTimeline} The Timeline object
	 * @private
	 * @static
	 */
	Animator._makeTimeline = function(instance, eventList, onComplete, onCancelled)
	{
		var timeline = new AnimatorTimeline();
		if (!Animator.canAnimate(instance)) //not a movieclip
		{
			if (DEBUG &amp;&amp; Debug)
			{
				Debug.warn(&quot;Attempting to use Animator to play something that is not movieclip compatible: &quot; + instance);
			}
			return timeline;
		}
		//make sure the movieclip doesn&#x27;t play outside the control of Animator
		instance.tickEnabled = false;
		var fps;
		//make sure the movieclip is framerate independent
		if (!instance.framerate)
		{
			fps = Application.instance.options.fps;
			if (!fps)
				fps = 15;
			instance.framerate = fps;
		}
		else
			fps = instance.framerate; //we&#x27;ll want this for some math later
		timeline.instance = instance;
		timeline.eventList = []; //we&#x27;ll create a duplicate event list with specific info
		timeline.onComplete = onComplete;
		timeline.onCancelled = onCancelled;
		timeline.speed = speed;
		var labels = instance.getLabels();
		var anim, audio, start, speed, alias;
		for (var j = 0, jLen = eventList.length; j &lt; jLen; ++j)
		{
			var listItem = eventList[j];
			switch (typeof listItem)
			{
				case &quot;string&quot;:
					anim = listItem;
					audio = null;
					start = 0;
					speed = 1;
					break;
				case &quot;object&quot;:
					anim = listItem.anim;
					audio = listItem.audio;
					//convert into seconds, as that is what the time uses internally
					start = typeof listItem.start == &quot;number&quot; ? listItem.start * 0.001 : 0;
					speed = listItem.speed &gt; 0 ? listItem.speed : 1;
					break;
				case &quot;number&quot;:
					//convert to seconds
					timeline.eventList.push(listItem * 0.001);
					continue;
				case &quot;function&quot;:
					//add functions directly
					timeline.eventList.push(listItem);
					continue;
				default:
					//anything else we&#x27;ll ignore
					continue;
			}

			//go through the list of labels (they are sorted by frame number)
			var stopLabel = anim + &quot;_stop&quot;;
			var loopLabel = anim + &quot;_loop&quot;;

			var l, first = -1,
				last = -1,
				loop = false;
			for (var i = 0, len = labels.length; i &lt; len; ++i)
			{
				l = labels[i];
				if (l.label == anim)
				{
					first = l.position;
				}
				else if (l.label == stopLabel)
				{
					last = l.position;
					break;
				}
				else if (l.label == loopLabel)
				{
					last = l.position;
					loop = true;
					break;
				}
			}
			var animData;
			if (first &gt;= 0 &amp;&amp; last &gt; 0)
			{
				animData = {
					name: anim,
					first: first,
					last: last,
					loop: loop,
					speed: speed,
					animStart: start
				};
			}
			else
			{
				//if the animation doesn&#x27;t exist, skip it
				continue;
			}
			//figure out audio stuff if it is okay to use
			if (audio &amp;&amp; Sound)
			{
				if (typeof audio == &quot;string&quot;)
				{
					start = 0;
					alias = audio;
				}
				else
				{
					start = audio.start &gt; 0 ? audio.start * 0.001 : 0; //seconds
					alias = audio.alias;
				}
				if (Sound.instance.exists(alias))
				{
					Sound.instance.preload(alias);
					animData.alias = alias;
					animData.audioStart = start;

					animData.useCaptions = Animator.captions &amp;&amp; Animator.captions.hasCaption(alias);
				}
			}
			timeline.eventList.push(animData);
		}

		return timeline;
	};

	/**
	 * Determines if a given instance can be animated by Animator, to allow things that aren&#x27;t
	 * MovieClips from EaselJS to be animated if they share the same API. Note - &#x27;id&#x27; is a property
	 * with a unique value for each createjs.DisplayObject. If a custom object is made that does
	 * not inherit from DisplayObject, it needs to not have an id that is identical to anything
	 * from EaselJS.
	 *
	 * @method canAnimate
	 * @param {createjs.DisplayObject} instance The object to check for animation properties.
	 * @return {Boolean} If the instance can be animated or not.
	 * @static
	 */
	Animator.canAnimate = function(instance)
	{
		if (!instance)
			return false;
		if (instance instanceof createjs.MovieClip) //all createjs.MovieClips are A-OK
			return true;
		if (instance.framerate !== undefined &amp;&amp; //property - calculate timing
			instance.getLabels !== undefined &amp;&amp; //method - get framelabels
			instance.elapsedTime !== undefined &amp;&amp; //property - set time passed
			instance._tick !== undefined &amp;&amp; //method - update after setting elapsedTime
			instance.gotoAndStop !== undefined &amp;&amp; //method - stop at end of anim
			instance.play !== undefined &amp;&amp; //method - start playing
			instance.id !== undefined) //property - used to avoid duplication of timelines
			return true;

		return false;
	};

	/**
	 * Checks if animation exists
	 *
	 * @method instanceHasAnimation
	 * @param {createjs.MovieClip} instance The timeline to check
	 * @param {String} event The frame label event (e.g. &quot;onClose&quot; to &quot;onClose_stop&quot;)
	 * @public
	 * @static
	 * @return {Boolean} does this animation exist?
	 */
	Animator.instanceHasAnimation = function(instance, event)
	{
		if (typeof instance.getLabels != &quot;function&quot;) return false;
		var labels = instance.getLabels();
		var startFrame = -1,
			stopFrame = -1;
		var stopLabel = event + &quot;_stop&quot;;
		var loopLabel = event + &quot;_loop&quot;;
		var l;
		for (var i = 0, len = labels.length; i &lt; len; ++i)
		{
			l = labels[i];
			if (l.label == event)
			{
				startFrame = l.position;
			}
			else if (l.label == stopLabel || l.label == loopLabel)
			{
				stopFrame = l.position;
				break;
			}
		}

		return startFrame &gt;= 0 &amp;&amp; stopFrame &gt;= 0;
	};

	/**
	 * Get duration of animation event (or sequence of events) in seconds
	 *
	 * @method getDuration
	 * @param {createjs.MovieClip} instance The timeline to check
	 * @param {String|Array} event The frame label event or array, in the format that play() uses.
	 * @public
	 * @static
	 * @return {Number} Duration of animation event in milliseconds
	 */
	Animator.getDuration = function(instance, event)
	{
		if (typeof instance.getLabels != &quot;function&quot;) return 0;
		if (Array.isArray(event))
		{
			var duration = 0;
			for (var j = 0, eventLength = event.length; j &lt; eventLength; j++)
			{
				duration += Animator.getDuration(instance, event[j]);
			}
			return duration;
		}
		else
		{
			if (typeof event == &quot;number&quot;)
				return event;
			else if (typeof event == &quot;object&quot; &amp;&amp; event.anim)
				event = event.anim;
			else if (typeof event != &quot;string&quot;)
				return 0;

			var labels = instance.getLabels();
			var startFrame = -1,
				stopFrame = -1;
			var stopLabel = event + &quot;_stop&quot;;
			var loopLabel = event + &quot;_loop&quot;;
			var l;
			for (var i = 0, labelsLength = labels.length; i &lt; labelsLength; ++i)
			{
				l = labels[i];
				if (l.label == event)
				{
					startFrame = l.position;
				}
				else if (l.label == stopLabel || l.label == loopLabel)
				{
					stopFrame = l.position;
					break;
				}
			}
			if (startFrame &gt;= 0 &amp;&amp; stopFrame &gt; 0)
			{
				//make sure the movieclip has a framerate
				if (!instance.framerate)
				{
					var fps = Application.instance.options.fps;
					if (!fps)
						fps = 15;
					instance.framerate = fps;
				}

				return (stopFrame - startFrame) / instance.framerate * 1000;
			}
			else
				return 0;
		}
	};

	/**
	 * Stop the animation.
	 *
	 * @method stop
	 * @param {createjs.MovieClip} instance The MovieClip to stop the action on
	 * @param {Boolean} [removeCallbacks=false] Completely disregard the on complete or
	 *                                        on cancelled callback of this animation.
	 * @static
	 */
	Animator.stop = function(instance, removeCallbacks)
	{
		if (!_timelines) return;

		var timeline = _timelinesMap[instance.id];
		if (!timeline)
		{
			return;
		}
		if (removeCallbacks)
		{
			timeline.onComplete = timeline.onCancelled = null;
		}
		Animator._remove(timeline, true);
	};

	/**
	 * Stop all current Animator animations.
	 * This is good for cleaning up all animation, as it doesn&#x27;t do a callback on any of them.
	 *
	 * @method stopAll
	 * @param {createjs.Container} [container] Specify a container to stop timelines
	 *                                       contained within. This only checks one layer deep.
	 * @param {Boolean} [removeCallbacks=false] Completely disregard the on complete or
	 *                                        on cancelled callback of the current animations.
	 * @static
	 */
	Animator.stopAll = function(container, removeCallbacks)
	{
		if (!Animator._hasTimelines()) return;

		var timeline;
		var removedTimelines = _timelines.slice();

		for (var i = 0, len = removedTimelines.length; i &lt; len; i++)
		{
			timeline = removedTimelines[i];

			if (!container || container.contains(timeline.instance))
			{
				if (removeCallbacks)
				{
					timeline.onComplete = timeline.onCancelled = null;
				}
				Animator._remove(timeline, true);
			}
		}
	};

	/**
	 * Remove a timeline from the stack
	 *
	 * @method _remove
	 * @param {springroll.easeljs.AnimatorTimeline} timeline
	 * @param {Boolean} doCancelled If we do the on complete callback
	 * @private
	 * @static
	 */
	Animator._remove = function(timeline, doCancelled)
	{
		var index = _removedTimelines.indexOf(timeline);
		if (index &gt;= 0)
		{
			_removedTimelines.splice(index, 1);
		}

		index = _timelines.indexOf(timeline);

		// We can&#x27;t remove an animation twice
		if (index &lt; 0) return;

		var onComplete = timeline.onComplete,
			onCancelled = timeline.onCancelled;

		// Stop the animation
		timeline.instance.stop();

		//in most cases, if doOnComplete is true, it&#x27;s a natural stop and the audio can
		//be allowed to continue
		if (doCancelled &amp;&amp; timeline.soundInst)
			timeline.soundInst.stop(); //stop the sound from playing

		// Remove from the stack
		_timelines.splice(index, 1);
		delete _timelinesMap[timeline.instance.id];

		//stop the captions, if relevant
		if (timeline.useCaptions)
		{
			Animator.captions.stop();
		}

		// Clear the timeline
		timeline.instance = null;
		timeline.eventList = null;
		timeline.onComplete = null;
		timeline.onCancelled = null;

		// Check if we should stop the update
		if (!Animator._hasTimelines()) Animator._stopUpdate();

		//call the appropriate callback
		if (doCancelled)
		{
			if (onCancelled)
				onCancelled();
		}
		else if (onComplete)
		{
			onComplete();
		}
	};

	/**
	 * Pause all tweens which have been excuted by Animator.play()
	 *
	 * @method pause
	 * @static
	 */
	Animator.pause = function()
	{
		if (!_timelines) return;

		if (_paused) return;

		_paused = true;

		for (var i = 0, len = _timelines.length; i &lt; len; i++)
		{
			_timelines[i].paused = true;
		}
		Animator._stopUpdate();
	};

	/**
	 * Resumes all tweens executed by the Animator.play()
	 *
	 * @method resume
	 * @static
	 */
	Animator.resume = function()
	{
		if (!_timelines) return;

		if (!_paused) return;

		_paused = false;

		// Resume playing of all the instances
		for (var i = 0, len = _timelines.length; i &lt; len; i++)
		{
			_timelines[i].paused = false;
		}
		if (Animator._hasTimelines()) Animator._startUpdate();
	};

	/**
	 * Pauses or unpauses all timelines that are children of the specified DisplayObjectContainer.
	 *
	 * @method pauseInGroup
	 * @param {Boolean} paused If this should be paused or unpaused
	 * @param {createjs.Container} container The container to stop timelines contained within
	 * @static
	 */
	Animator.pauseInGroup = function(paused, container)
	{
		if (!Animator._hasTimelines() || !container) return;

		for (var i = 0, len = _timelines.length; i &lt; len; i++)
		{
			if (container.contains(_timelines[i].instance))
			{
				_timelines[i].paused = paused;
			}
		}
	};

	/**
	 * Get the timeline object for an instance
	 *
	 * @method getTimeline
	 * @param {createjs.MovieClip} instance MovieClip
	 * @return {springroll.easeljs.AnimatorTimeline} The timeline
	 * @static
	 */
	Animator.getTimeline = function(instance)
	{
		if (!Animator._hasTimelines()) return null;

		if (_timelinesMap[instance.id] !== undefined)
		{
			return _timelinesMap[instance.id];
		}
		return null;
	};

	/**
	 * Whether the Animator class is currently paused.
	 *
	 * @method getPaused
	 * @return {Boolean} if we&#x27;re paused or not
	 */
	Animator.getPaused = function()
	{
		return _paused;
	};

	/**
	 * Start the updating
	 *
	 * @method _startUpdate
	 * @private
	 * @static
	 */
	Animator._startUpdate = function()
	{
		if (Application.instance)
			Application.instance.on(&quot;update&quot;, Animator._update);
	};

	/**
	 * Stop the updating
	 *
	 * @method _stopUpdate
	 * @private
	 * @static
	 */
	Animator._stopUpdate = function()
	{
		if (Application.instance)
			Application.instance.off(&quot;update&quot;, Animator._update);
	};

	/**
	 * The update every frame
	 *
	 * @method
	 * @param {int} elapsed The time in milliseconds since the last frame
	 * @private
	 * @static
	 */
	Animator._update = function(elapsed)
	{
		if (!_timelines) return;

		var delta = elapsed * 0.001; //ms -&gt; sec

		var t, instance, audioPos, extraTime, onNext;
		for (var i = _timelines.length - 1; i &gt;= 0; --i)
		{
			t = _timelines[i];
			instance = t.instance;
			if (t.paused) continue;

			//we&#x27;ll use this to figure out if the timeline is on the next item
			//to avoid code repetition
			onNext = false;
			extraTime = 0;

			if (t.soundInst)
			{
				if (t.soundInst.isValid)
				{
					//convert sound position ms -&gt; sec
					audioPos = t.soundInst.position * 0.001;
					if (audioPos &lt; 0)
						audioPos = 0;
					t._time_sec = t.soundStart + audioPos;

					if (t.useCaptions)
					{
						Animator.captions.seek(t.soundInst.position);
					}
					//if the sound goes beyond the animation, then stop the animation
					//audio animations shouldn&#x27;t loop, because doing that properly is difficult
					//letting the audio continue should be okay though
					if (t._time_sec &gt;= t.duration)
					{
						instance.gotoAndStop(t.lastFrame);
						extraTime = t._time_sec - t.duration;
						t._nextItem();
						if (t.complete)
						{
							_removedTimelines.push(t);
							continue;
						}
						else
						{
							onNext = true;
						}
					}
				}
				//if sound is no longer valid, stop animation playback immediately
				else
				{
					t._nextItem();
					if (t.complete)
					{
						_removedTimelines.push(t);
						continue;
					}
					else
					{
						onNext = true;
					}
				}
			}
			else
			{
				t._time_sec += delta * t.speed;
				if (t._time_sec &gt;= t.duration)
				{
					if (t.isLooping)
					{
						extraTime = t._time_sec - t.duration;
						t._nextItem();
						onNext = true;
						//call the on complete function each time
						if (t.onComplete)
							t.onComplete();
					}
					else
					{
						extraTime = t._time_sec - t.duration;
						if (t.firstFrame &gt;= 0)
							instance.gotoAndStop(t.lastFrame);
						t._nextItem();
						if (t.complete)
						{
							_removedTimelines.push(t);
							continue;
						}
						else
						{
							onNext = true;
						}
					}
				}
				if (!onNext &amp;&amp; t.playSound &amp;&amp; t._time_sec &gt;= t.soundStart)
				{
					t._time_sec = t.soundStart;
					t.playSound = false;
					t.soundInst = Sound.instance.play(
						t.soundAlias,
						onSoundDone.bind(this, t, t.listIndex, t.soundAlias),
						onSoundStarted.bind(this, t, t.listIndex)
					);
					if (t.useCaptions)
					{
						Animator.captions.play(t.soundAlias);
					}
				}
			}
			if (onNext)
			{
				t._time_sec += extraTime;
				while(t._time_sec &gt;= t.duration)
				{
					extraTime = t._time_sec - t.duration;
					t._nextItem();
					if (t.complete)
					{
						if (t.firstFrame &gt;= 0)
							instance.gotoAndStop(t.lastFrame);
						_removedTimelines.push(t);
						continue;
					}
					t._time_sec += extraTime;
				}
				
				if (t.firstFrame &gt;= 0)
					instance.gotoAndPlay(t.firstFrame);
				if (t.playSound &amp;&amp; t._time_sec &gt;= t.soundStart)
				{
					t._time_sec = t.soundStart;
					t.playSound = false;
					t.soundInst = Sound.instance.play(
						t.soundAlias,
						onSoundDone.bind(this, t, t.listIndex, t.soundAlias),
						onSoundStarted.bind(this, t, t.listIndex)
					);
					if (t.useCaptions)
					{
						Animator.captions.play(t.soundAlias);
					}
				}
			}
			//if on an animation, not a pause
			if (t.firstFrame &gt;= 0)
			{
				instance.elapsedTime = t.startTime + t._time_sec;
				//because the movieclip only checks the elapsed time here (tickEnabled is false),
				//calling advance() with no parameters is fine - it won&#x27;t advance the time
				instance.advance();
			}
		}
		if (!_removedTimelines) return;
		//we need to save the length before iterating because we have seen _removedTimelines get
		//destroyed out from under us when this gets called at the end of an activity
		var len = _removedTimelines.length;
		for (i = 0; i &lt; len; i++)
		{
			t = _removedTimelines[i];
			Animator._remove(t);
		}
	};

	/**
	 * The sound has been started
	 * @method onSoundStarted
	 * @private
	 * @param {springroll.easeljs.AnimatorTimeline} timeline
	 */
	var onSoundStarted = function(timeline, playIndex)
	{
		if (timeline.listIndex != playIndex) return;

		//convert sound length to seconds
		timeline.soundEnd = timeline.soundStart + timeline.soundInst.length * 0.001;
	};

	/**
	 * The sound is done
	 * @method onSoundDone
	 * @private
	 * @param {springroll.easeljs.AnimatorTimeline} timeline
	 */
	var onSoundDone = function(timeline, playIndex, soundAlias)
	{
		if (Animator.captions &amp;&amp; Animator.captions.currentAlias == soundAlias)
			Animator.captions.stop();

		if (timeline.listIndex != playIndex) return;

		if (timeline.soundEnd &gt; 0 &amp;&amp; timeline.soundEnd &gt; timeline._time_sec)
			timeline._time_sec = timeline.soundEnd;
		timeline.soundInst = null;
	};

	/**
	 * Check to see if we have timeline
	 *
	 * @method _hasTimelines
	 * @return {Boolean} if we have timelines
	 * @private
	 * @static
	 */
	Animator._hasTimelines = function()
	{
		if (!_timelines) return false;
		return _timelines.length &gt; 0;
	};

	/**
	 * String representation of this class
	 *
	 * @method toString
	 * @return String
	 * @static
	 */
	Animator.toString = function()
	{
		return &quot;[springroll.easeljs.Animator]&quot;;
	};

	// Assign to the global namespace
	namespace(&#x27;springroll&#x27;).Animator = Animator;
	namespace(&#x27;springroll.easeljs&#x27;).Animator = Animator;

}());
</pre>
</div></div>
</div>
</div>
</div>
<script src='../assets/js/libraries.js?v=0.4.0'></script>
<script src='../assets/js/main.js?v=0.4.0'></script>
</body>
</html>