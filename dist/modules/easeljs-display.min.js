/*! SpringRoll 0.4.0 */
!function(){"use strict";!function(a){var b=include("createjs.Container",!1);if(b){var c=b.prototype;c.cacheByBounds=function(a,b){this.cacheByRect(this.nominalBounds,a,b)},c.cacheByRect=function(b,c,d){c=c===a||null===c?0:c,d=d>0?d:1,this.cache(b.x-c,b.y-c,b.width+2*c,b.height+2*c,d)}}}(),function(a){var b=include("createjs.MovieClip",!1);if(b){var c=b.prototype;c.gotoAndCacheByBounds=function(b,c,d){b=b===a?0:b,this.gotoAndStop(b);var e=this.frameBounds?this.frameBounds[this.currentFrame]:this.nominalBounds;e?this.cacheByRect(e,c,d):this.uncache()}}}(),function(a){var b=include("createjs.Point").prototype;b.dotProd=function(a){return this.x*a.x+this.y*a.y},b.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},b.lengthSq=function(){return this.x*this.x+this.y*this.y},b.normalize=function(){var a=1/this.length();this.x*=a,this.y*=a},b.subtract=function(a){this.x-=a.x,this.y-=a.y},b.add=function(a){this.x+=a.x,this.y+=a.y},b.truncate=function(a){var b=this.length();if(b>a){var c=a/b;this.x*=c,this.y*=c}},b.scaleBy=function(a){this.x*=a,this.y*=a},b.distance=function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},b.distanceSq=function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c}}(),function(){var a=include("createjs.SpriteSheet",!1);if(a){var b=a.prototype;b.destroy=function(){this.dispatchEvent("destroy"),this._images.forEach(function(a){a.onload=null,a.src=""}),this._images=null,this._data=null,this._frames=null,this._animations=null,this.removeAllEventListeners()}}}(),function(){var a=include("createjs.Bitmap"),b=include("createjs.Container"),c=include("createjs.Rectangle"),d={};d.loadSpriteSheet=function(d,e,f){f>0||(f=d.meta&&parseFloat(d.meta.scale)?1/parseFloat(d.meta.scale):1);var g=d.frames||d,h=d.meta&&"http://www.codeandweb.com/texturepacker"==d.meta.app;for(var i in g){var j=g[i],k=i.indexOf(".");k>0&&(i=i.substring(0,k));var l=lib[i],m=lib[i]=function(){b.call(this);var c=new a(this._image);this.addChild(c),c.sourceRect=this._frameRect;var d=this._scale;c.setTransform(this._frameOffsetX*d,this._frameOffsetY*d,d,d),this._rotated&&(c.rotation=-90,c.regX=c.sourceRect.width)},n=m.prototype=new b;n._image=e,n._scale=f;var o=j.rotated;o&&(n._rotated=!0);var p=j.frame;n._frameRect=new c(p.x,p.y,o&&h?p.h:p.w,o&&h?p.w:p.h),j.trimmed?(n._frameOffsetX=j.spriteSourceSize.x,n._frameOffsetY=j.spriteSourceSize.y):n._frameOffsetX=n._frameOffsetY=0,l&&l.prototype.nominalBounds?n.nominalBounds=l.prototype.nominalBounds:n.nominalBounds=new c(0,0,j.sourceSize.w*f,j.sourceSize.h*f)}},d.bitmapFromTexture=function(d,e){e>0||(e=1);var f=new b,g=new a(d.image);return f.addChild(g),g.sourceRect=d.frame,g.setTransform(d.offset.x*e,d.offset.y*e,e,e),d.rotated&&(g.rotation=-90,g.regX=g.sourceRect.width),f.nominalBounds=new c(0,0,d.width*e,d.height*e),f},d.replaceWithScaledBitmap=function(a,c){if(1!=c&&c>0){var d,e,f,g;if("string"==typeof a)d=a,e=lib[d],e&&(f=lib[d]=function(){b.call(this);var a=new this._oldBM;this.addChild(a),a.setTransform(0,0,this._scale,this._scale)},g=f.prototype=new b,g._oldBM=e,g._scale=c,g.nominalBounds=e.prototype.nominalBounds);else for(d in a)e=lib[d],e&&(f=lib[d]=function(){b.call(this);var a=new this._oldBM;this.addChild(a),a.setTransform(0,0,this._scale,this._scale)},g=f.prototype=new b,g._oldBM=e,g._scale=c,g.nominalBounds=e.prototype.nominalBounds)}},namespace("createjs").BitmapUtils=d,namespace("springroll.easeljs").BitmapUtils=d}(),function(a){var b=function(a,b,c){this.dom=b,this.symbols=[],this.libName=c||"lib",this.id=a,this.parseSymbols(b.text)},c=b.prototype;b.globalSymbols={},c.parseSymbols=function(a){for(var c=a.split(/[\(!]function\s*\(/),d=0;d<c.length;++d)if(a=c[d]){var e=a.substring(0,a.indexOf(","));if(e)for(var f,g=new RegExp("\\("+e+".(\\w+)\\s*=","g"),h=g.exec(a);h;)f=h[1],this.symbols.push(f),b.globalSymbols[f]=this.id,h=g.exec(a)}},c.destroy=function(){this.dom.parentNode.removeChild(this.dom),this.dom=null;var a=b.globalSymbols,c=this.libName;this.symbols.forEach(function(b){delete a[b],delete window[c][b]}),this.symbols=null},namespace("springroll.easeljs").FlashArt=b}(),function(){var a=include("springroll.LoadTask"),b=include("springroll.easeljs.FlashArt"),c=(include("springroll.Application"),function(b){a.call(this,b),this.libName=b.libName||"lib"}),d=extend(c,a);c.test=function(a){return a.src&&a.src.search(/\.js$/i)>-1&&"easeljs"==a.type},d.start=function(c){a.prototype.start.call(this,function(a){c(new b(this.id,a,this.libName))}.bind(this))},namespace("springroll.easeljs").FlashArtTask=c}(),function(a){var b=function(a,b){Array.isArray(a)?this._images=a:(this._images=[a],b=[b]),this.frames={},b[0].meta&&parseFloat(b[0].meta.scale)?this.scale=parseFloat(b[0].meta.scale):this.scale=1;for(var c=0;c<this._images.length;++c){a=this._images[c];var e=b[c].meta&&"http://www.codeandweb.com/texturepacker"==b[c].meta.app,f=b[c].frames;for(var g in f){var h=f[g],i=g.lastIndexOf(".");i>0&&(g=g.substring(0,i)),i=g.lastIndexOf("/"),i>=0&&(g=g.substring(i+1)),this.frames[g]=new d(a,h,e)}}},c=b.prototype={};c.getFrame=function(a){return this.frames[a]||null},c.getFrames=function(b,c,d,e,f){e===a&&(e=4),0>e&&(e=0),f||(f=[]);var g,h,i=[],j=[];for(g=1;e>g;++g){var k="";h=1;for(var l=0;g>l;++l)k+="0",h*=10;i.unshift(k),j.push(h)}var m,n,o=j.length;for(g=c,n=d;n>=g;++g){var p=null;for(h=0;o>h;++h)if(g<j[h]){p=i[h]+g;break}p||(p=g.toString());var q=b.replace("#",p),r=this.frames[q];r&&(m=r),m&&f.push(m)}return f},c.destroy=function(){this.image=null,this.frames=null},namespace("createjs").TextureAtlas=b,namespace("springroll.easeljs").TextureAtlas=b;var d=function(a,b,c){this.image=a,this.rotated=b.rotated;var d=b.frame;this.frame=new createjs.Rectangle(d.x,d.y,b.rotated&&c?d.h:d.w,b.rotated&&c?d.w:d.h),this.trimmed=b.trimmed,this.offset=new createjs.Point(b.spriteSourceSize.x,b.spriteSourceSize.y),this.width=b.sourceSize.w,this.height=b.sourceSize.h}}(),function(){var a=include("springroll.Task"),b=include("springroll.easeljs.TextureAtlas"),c=include("springroll.ColorAlphaTask"),d=include("springroll.Application"),e=function(b){a.call(this,b,b.atlas),this.atlas=this.filter(b.atlas),this.image=this.filter(b.image),this.color=this.filter(b.color),this.alpha=this.filter(b.alpha)},f=extend(e,a);e.test=function(a){return"easeljs"==a.type&&a.atlas&&(a.image||a.alpha&&a.color)},f.start=function(a){this.loadAtlas({},a)},f.loadAtlas=function(a,e){a._atlas=this.atlas,this.image?a._image=this.image:(a._color=this.color,a._alpha=this.alpha),d.instance.load(a,function(a){var d;d=a._image?a._image:c.mergeAlpha(a._color,a._alpha);var f=new b(d,a._atlas);e(f,a)})},namespace("springroll.easeljs").TextureAtlasTask=e}(),function(){var a=include("springroll.Task"),b=include("springroll.easeljs.FlashArt"),c=include("springroll.Application"),d=include("springroll.ColorAlphaTask"),e=include("springroll.easeljs.BitmapUtils"),f=function(b){a.call(this,b,b.src),e||(e=include("springroll.easeljs.BitmapUtils")),this.src=this.filter(b.src),this.atlas=this.filter(b.atlas),this.image=this.filter(b.image),this.color=this.filter(b.color),this.alpha=this.filter(b.alpha),this.libName=b.libName||"lib"},g=extend(f,a);f.test=function(a){return a.src&&a.src.search(/\.js$/i)>-1&&"easeljs"==a.type&&a.atlas&&(a.image||a.color&&a.alpha)},g.start=function(a){var f={_flash:this.src,_atlas:this.atlas};this.image?f._image=this.image:(f._color=this.color,f._alpha=this.alpha),c.instance.load(f,function(c){var f;f=c._image?c._image:d.mergeAlpha(c._color,c._alpha),e.loadSpriteSheet(c._atlas,f,this.original.scale),a(new b(this.id,c._flash,this.libName))}.bind(this))},namespace("springroll.easeljs").FlashArtAtlasTask=f}(),function(){var a=include("springroll.Task"),b=include("createjs.SpriteSheet"),c=include("springroll.Application"),d=function(b){a.call(this,b,b.images[0]),this.images=b.images,this.frames=b.frames,this.globalProperty=b.globalProperty||"ss"},e=extend(d,a);d.test=function(a){return a.images&&"easeljs"==a.type&&Array.isArray(a.images)&&a.frames},e.start=function(a){var d=this.globalProperty,e=this.id,f=this.frames;c.instance.load(this.images,function(c){var g=new b({images:c,frames:f});namespace(d)[e]=g,g.addEventListener("destroy",function(){delete window[d][e]}),a(g)})},namespace("springroll.easeljs").SpriteSheetTask=d}(),function(){var a=include("springroll.LoadTask"),b=include("springroll.Application"),c=function(b){a.call(this,b),this.globalProperty=b.globalProperty||"ss"},d=a.prototype,e=extend(c,a);c.test=function(a){return a.src&&"easeljs"==a.type&&"createjs.SpriteSheet"==a.format},e.start=function(a){var c=this.globalProperty,e=this.id;d.start.call(this,function(d){d.id=e,d.globalProperty=c,d.type="easeljs",b.instance.load(d,a)})},namespace("springroll.easeljs").FlashSpriteSheetTask=c}(),function(){var a=include("springroll.LoadTask"),b=include("createjs.Bitmap"),c=(include("springroll.Application"),function(b){a.call(this,b)}),d=a.prototype,e=extend(c,a);c.test=function(a){return a.src&&"easeljs"==a.type&&"createjs.Bitmap"==a.format},e.start=function(a){d.start.call(this,function(c){var d=new b(c);d.destroy=function(){this.removeAllEventListeners(),this.image.src=""},a(d)})},namespace("springroll.easeljs").BitmapTask=c}(),function(){var a=include("springroll.ApplicationPlugin"),b=new a;b.setup=function(){var a=this.assetManager;a.register("springroll.easeljs.TextureAtlasTask",30),a.register("springroll.easeljs.FlashArtTask",50),a.register("springroll.easeljs.FlashArtAtlasTask",60),a.register("springroll.easeljs.SpriteSheetTask",70),a.register("springroll.easeljs.FlashSpriteSheetTask",80),a.register("springroll.easeljs.BitmapTask",90),this.once("displayAdded",function(a){var b=this.options;!b.defaultAssetType&&a instanceof include("springroll.EaselJSDisplay")&&(b.defaultAssetType="easeljs")})}}(),function(a){var b={};b.Circle=include("createjs.Circle",!1),b.Ellipse=include("createjs.Ellipse",!1),b.Rectangle=include("createjs.Rectangle"),b.Sector=include("createjs.Sector",!1),b.Point=include("createjs.Point"),b.Polygon=include("createjs.Polygon",!1),b.useRadians=!1,b.getLocalBounds=function(b){var c;if(b.nominalBounds)c=b.nominalBounds.clone();else if(b.width!==a&&b.height!==a){var d=b.width/b.scaleX,e=b.height/b.scaleY;c=new createjs.Rectangle(-b.regX,-b.regY,d,e)}else b.getLocalBounds&&(c=b.getLocalBounds(),c&&(c=c.clone())),c||(c=new createjs.Rectangle);return c.right=c.x+c.width,c.bottom=c.y+c.height,c},b.getScale=function(b,c){return c!==a?b["scale"+c.toUpperCase()]:{x:b.scaleX,y:b.scaleY}},b.setPosition=function(b,c,d){return d!==a?b[d]=c:(c.x!==a&&(b.x=c.x),c.y!==a&&(b.y=c.y)),b},b.getPosition=function(b,c){return c!==a?b[c]:{x:b.x,y:b.y}},b.setScale=function(b,c,d){return d!==a?b["scale"+d.toUpperCase()]=c:b.scaleX=b.scaleY=c,b},b.setPivot=function(b,c,d){return d!==a&&(b["reg"+d.toUpperCase()]=c),b.regX=c.x,b.regY=c.y,b},b.setHitArea=function(a,b){return a.hitShape=b,a},b.getBitmapSize=function(b){var c={w:0,h:0};return b.nominalBounds?(c.w=b.nominalBounds.width,c.h=b.nominalBounds.height):b.width!==a&&b.height!==a?(c.w=b.width,c.h=b.height):b.sourceRect?(c.w=b.sourceRect.width,c.h=b.sourceRect.height):b.image&&(c.w=b.image.width,c.h=b.image.height),c},b.removeChildren=function(a){a.removeAllChildren()},b.contains=function(a,b){return a.contains(b)},namespace("springroll.easeljs").DisplayAdapter=b}(),function(a){var b,c,d=include("springroll.AbstractDisplay"),e=function(a,e){b||(b=include("createjs.Stage"),c=include("createjs.Touch")),d.call(this,a,e),e=e||{},this.mouseOverRate=e.mouseOverRate||30,this.keepMouseover=e.keepMouseover||!1,"spriteStage"==e.stageType||(this.stage=new b(a)),this.stage.autoClear=!!e.clearView,this.adapter=include("springroll.easeljs.DisplayAdapter")},f=d.prototype,g=extend(e,d),h={delta:0};Object.defineProperty(g,"enabled",{get:function(){return this._enabled},set:function(a){Object.getOwnPropertyDescriptor(f,"enabled").set.call(this,a),a?(this.stage.enableMouseOver(this.mouseOverRate),this.stage.enableDOMEvents(!0),c.enable(this.stage)):(this.keepMouseover?this.stage.enableDOMEvents("keepMove"):(this.stage.enableMouseOver(!1),this.stage.enableDOMEvents(!1)),c.disable(this.stage),"none"!=this.canvas.style.cursor&&(this.canvas.style.cursor=""))}}),g.render=function(a,b){(b||!this.paused&&this._visible)&&(h.delta=a,this.stage.update(h))},g.destroy=function(){this.stage.removeAllChildren(!0),f.destroy.call(this)},namespace("springroll").EaselJSDisplay=e,namespace("springroll.easeljs").EaselJSDisplay=e}();}();