/*! SpringRoll 0.0.6 */
!function(){"use strict";!function(){Object.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var a,b,c=this.length;c;a=Math.floor(Math.random()*c),b=this[--c],this[c]=this[a],this[a]=b);return this}}),Object.defineProperty(Array.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[Math.floor(Math.random()*this.length)]}}),Object.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!1,value:function(){return this[this.length-1]}})}(),function(a){a.getRandomInt=function(b,c){return void 0===c&&(c=b,b=0),a.floor(a.random()*(c-b+1))+b},a.dist=function(b,c,d,e){return a.sqrt((b-=d)*b+(c-=e)*c)}}(Math),function(){var a,b,c=include("springroll.Application"),d=function(d){a=include("springroll.LoadTask"),b=include("springroll.TaskManager"),c.call(this,Object.merge({updateTween:!0,name:"Untitled",forceMobile:!1,configPath:"assets/config/config.json"},d)),this.name=this.options.name,this.config=null;var e=navigator.userAgent;this.isIOS=e.search(/iPhone|iPad|iPod/)>-1,this.isMobile=this.isIOS||e.search(/Android|Blackberry/)>-1,this.once("beforeInit",j.bind(this))},e=c.prototype,f=d.prototype=Object.create(e),g="loaded",h="configLoaded",i="loading",j=function(){this._readyToInit=!1;var c=[new a("config",this.options.configPath,k.bind(this))];this.trigger(i,c),b.process(c,l.bind(this))},k=function(a,b,c){this.config=a.content,this.trigger(h,this.config,c)},l=function(){this._readyToInit=!0,this.trigger(g),c.prototype._doInit.call(this)};f.destroy=function(){this.config=null,e.destroy.call(this)},f.toString=function(){return"[Game name='"+this.name+"'']"},namespace("springroll").Game=d}(),function(){var a,b,c,d,e=include("springroll.Game"),f=include("springroll.Application"),g=function(b){d=include("springroll.Sound"),a=include("springroll.VOPlayer"),c=include("springroll.Captions",!1),e.call(this,Object.merge({captionsPath:"assets/config/captions.json",swfPath:"assets/swfs/",mute:!1,captions:null},b)),this._music=null,this.player=null,this.captions=null,this.once("loading",k.bind(this)),this.once("loaded",m.bind(this))},h=e.prototype,i=g.prototype=Object.create(h),j="soundReady",k=function(a){null!==this.options.captionsPath?(b=include("springroll.LoadTask"),a.push(new b("captions",this.options.captionsPath,l.bind(this)))):l.call(this)},l=function(b){var d=null;b&&(d=new c(b.content,this.options.captions),this.getDisplays(function(a){a.animator&&(a.animator.captions=d)}),this.captions=d.textField),this.player=new a(d)},m=function(){this._readyToInit=!1,d.init({swfPath:this.options.swfPath,ready:n.bind(this)})},n=function(){var a=this.config.sounds,b=d.instance;a&&(a.vo&&b.loadConfig(a.vo),a.sfx&&b.loadConfig(a.sfx),a.music&&b.loadConfig(a.music)),this._readyToInit=!0,this.trigger(j),f.prototype._doInit.call(this)};Object.defineProperty(i,"music",{set:function(a){if(a!=this._music){var b=d.instance;this._music&&b.fadeOut(this._music),this._music=a,this._music&&b.play(this._music,{start:b.fadeIn.bind(b,this._music),loop:-1})}},get:function(){return this._music}}),i.destroy=function(){this.player&&(this.player.destroy(),this.player=null),h.destroy.call(this)},i.toString=function(){return"[SoundGame name='"+this.name+"'']"},namespace("springroll").SoundGame=g}(),function(){var a,b=include("springroll.SoundGame"),c=function(c){b.call(this,Object.merge({state:null,transition:null,transitionSounds:{"in":"TransitionIn",out:"TransitionOut"}},c)),a=include("springroll.StateManager"),this.transition=this.options.transition||null,this.manager=null,this.once("soundReady",i.bind(this))},d=b.prototype,e=c.prototype=Object.create(d),f="initStates",g="statesReady",h="addStates",i=function(){if(this.trigger(f),!this.transition)throw"No transition on StateGame";this.transition.gotoAndStop&&this.transition.gotoAndStop("onTransitionOut_stop"),this.manager=new a(this.display,this.transition,this.options.transitionSounds),this.trigger(h),this.display.stage.addChild(this.transition),this.trigger(g),this.options.state&&this.manager.setState(this.options.state)};e.addState=function(a,b){this.manager.addState(a,b),this.display.stage.addChild(b.panel)},e.addStates=function(a){for(var b in a)this.addState(b,a[b])},e.destroy=function(){this.manager&&(this.manager.destroy(),this.manager=null),this.transition&&(this.display.adapter.removeChildren(this.transition),this.transition=null),d.destroy.call(this)},e.toString=function(){return"[StateGame name='"+this.name+"'']"},namespace("springroll").StateGame=c}(),function(){var a,b=include("springroll.StateGame"),c=function(c){a=include("springroll.UIScaler"),b.call(this,c),this.scaler=null,this.once("statesReady",f.bind(this))},d=b.prototype,e=c.prototype=Object.create(d),f=function(){var b=this.config,c=(this.display,b.designedSettings);if(!c)throw"'designedSettings' required in config";if(!b.scaling)throw"'scaling' required in config";this.scaler=new a(this,c,b.scaling,!0,this.display)};e.destroy=function(){this.scaler&&(this.scaler.destroy(),this.scaler=null),d.destroy.call(this)},e.toString=function(){return"[ScalingGame name='"+this.name+"'']"},namespace("springroll").ScalingGame=c}();}();