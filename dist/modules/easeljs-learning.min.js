/*! SpringRoll 0.3.0 */
!function(){"use strict";!function(a){var b=include("springroll.Application"),c=function(c,d){if(this.target=c,c.name===a)throw"DwellTimer object target needs a name";this.timer=c.id+"_dwell",this.learning=d||b.instance.learning,c.__dwellTimer=this,this.mouseOver=this.mouseOver.bind(this),this.mouseOut=this.mouseOut.bind(this),c.addEventListener("mouseover",this.mouseOver)},d=c.prototype,e=1e3;d.mouseOver=function(b){var c=this.target;(c.enabled===a||c.enabled)&&(c.hasEventListener("mousedown")||c.hasEventListener("click")||c.hasEventListener("mouseup")||c.hasEventListener("pressup"))&&(this.learning&&this.learning.startTimer(this.timer),c.addEventListener("mousedown",this.mouseOut),c.addEventListener("mouseout",this.mouseOut))},d.mouseOut=function(a){var b=this.target;b.removeEventListener("mousedown",this.mouseOut),b.removeEventListener("mouseout",this.mouseOut);var c;this.learning&&(c=this.learning.stopTimer(this.timer),c>=e&&this.learning.dwellTime(c,b.name))},d.destroy=function(){var a=this.target;a.removeEventListener("mouseover",this.mouseOver),a.removeEventListener("mousedown",this.mouseOut),a.removeEventListener("mouseout",this.mouseOut),this.learning&&(this.learning.removeTimer(this.timer),this.learning=null),this.target=this.timer=null,this.mouseOver=this.mouseOut=null},c.create=function(a){c.destroy(a),new c(a)},c.destroy=function(a){a.__dwellTimer&&(a.__dwellTimer.destroy(),delete a.__dwellTimer)},namespace("springroll.easeljs").DwellTimer=c}(),function(){var a=include("springroll.ApplicationPlugin"),b=function(){a.call(this)},c=extend(b,a);c.setup=function(){this.offClickParams=[]},c.preload=function(a){d=d.bind(this),this.display&&this.display.stage&&this.display.stage.addEventListener("stagemousedown",d),a()};var d=function(a){if(this.learning){var b=a.target,c=b._getObjectsUnderPoint(a.stageX,a.stageY,null,!0),d=!1;if(c)for(;c&&c!=b;){if(c.hasEventListener("mousedown")||c.hasEventListener("click")){d=!0;break}c=c.parent}if(!d){var e=this.offClickParams.slice(0);e.unshift(this.normalizePosition(a.stageX,a.stageY)),this.learning.offClick.apply(this,e)}}};c.teardown=function(){this.display&&this.display.stage&&this.display.stage.removeEventListener("stagemousedown",d),this.offClickParams=null},a.register(b)}();}();