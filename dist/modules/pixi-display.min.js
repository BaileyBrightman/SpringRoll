/*! SpringRoll 0.4.0 */
!function(){"use strict";!function(){var a=include("PIXI.Texture"),b=function(a){this.urls=a},c=b.prototype;c.destroy=function(){this.urls.forEach(function(b){a.destroyTexture(b)}),this.urls=null},namespace("springroll.pixi").PixiAssets=b}(),function(){var a=include("springroll.Application"),b=include("PIXI.AssetLoader"),c=include("springroll.pixi.PixiAssets"),d=include("springroll.Task"),e=function(b){d.call(this,b),this.progress=b.progress,this._assetLoader=null,this.urls=b.urls.slice(0),this.originalUrls=b.urls,this.urls.forEach(function(b,c,d){d[c]=a.instance.loader.cacheManager.prepare(b,!0)})},f=extend(e,d);e.test=function(a){return!!a.urls&&Array.isArray(a.urls)},f.start=function(d){var e=a.instance.options;this._assetLoader=new b(this.urls,e.crossOrigin,e.basePath);var f=new c(this.originalUrls);this._assetLoader.onComplete=d.bind(null,f),this.progress&&(this._assetLoader.onProgress=this.progress),this._assetLoader.load()},f.destroy=function(){d.prototype.destroy.call(this),this.progress=null,this.urls=null,this._assetLoader&&(this._assetLoader.onComplete=null,this._assetLoader.onProgress=null),this._assetLoader=null},namespace("springroll.pixi").PixiLoadTask=e}(),function(){var a=include("springroll.ApplicationPlugin"),b=new a;b.setup=function(){this.assetManager.register("springroll.pixi.PixiLoadTask",60)}}(),function(a){var b={};b.Circle=include("PIXI.Circle"),b.Ellipse=include("PIXI.Ellipse"),b.Rectangle=include("PIXI.Rectangle"),b.Sector=include("PIXI.Sector",!1),b.Point=include("PIXI.Point"),b.Polygon=include("PIXI.Polygon"),b.useRadians=!0,b.getLocalBounds=function(a){var b,c=a.width,d=a.height;return b=c&&d?new PIXI.Rectangle(-a.pivot.x,-a.pivot.y,c/a.scale.x,d/a.scale.y):new PIXI.Rectangle,b.right=b.x+b.width,b.bottom=b.y+b.height,b},b.getScale=function(b,c){return c!==a?b.scale[c]:b.scale},b.setPosition=function(b,c,d){return d!==a?b.position[d]=c:(c.x!==a&&(b.position.x=c.x),c.y!==a&&(b.position.y=c.y)),b},b.getPosition=function(b,c){return c!==a?b.position[c]:b.position},b.setScale=function(b,c,d){return d!==a?b.scale[d]=c:b.scale.x=b.scale.y=c,b},b.setPivot=function(b,c,d){return d!==a&&(b.pivot[d]=c),b.pivot=c,b},b.setHitArea=function(a,b){return a.hitArea=b,a},b.getBitmapSize=function(a){return{h:a.height/a.scale.y,w:a.width/a.scale.x}},b.removeChildren=function(a){a.removeChildren(!0)},b.contains=function(a,b){for(;b;){if(b==a)return!0;b=b.parent}return!1},namespace("springroll.pixi").DisplayAdapter=b}(),function(a){var b=include("springroll.AbstractDisplay"),c=include("PIXI.Stage"),d=include("PIXI.CanvasRenderer"),e=include("PIXI.WebGLRenderer"),f=include("PIXI.autoDetectRenderer"),g=function(a,g){b.call(this,a,g),g=g||{},this.keepMouseover=g.keepMouseover||!1,this.stage=new c(g.backgroundColor||0),this.renderer=null;var h={view:this.canvas,transparent:!!g.transparent,antialias:!!g.antiAlias,preserveDrawingBuffer:!!g.preserveDrawingBuffer,clearBeforeRender:!!g.clearView},i=!!g.preMultAlpha;if(h.transparent&&!i&&(h.transparent="notMultiplied"),"webgl"!=g.forceContext){var j=window.navigator.userAgent;j.indexOf("Trident/7.0")>0&&(g.forceContext="canvas2d")}"canvas2d"==g.forceContext?this.renderer=new d(this.width,this.height,h):"webgl"==g.forceContext?this.renderer=new e(this.width,this.height,h):this.renderer=f(this.width,this.height,h),this.isWebGL=this.renderer instanceof e,this.animator=include("springroll.pixi.Animator",!1),this.adapter=include("springroll.pixi.DisplayAdapter")},h=b.prototype,i=extend(g,b);Object.defineProperty(i,"enabled",{get:function(){return this._enabled},set:function(a){Object.getOwnPropertyDescriptor(h,"enabled").set.call(this,a);var b=this.stage.interactionManager;b&&(a?b.setTargetDomElement(this.canvas):this.keepMouseover?b.removeInteractionEvents():b.removeEvents())}}),i.resize=function(a,b){h.resize.call(this,a,b),this.renderer.resize(a,b)},i.render=function(a,b){(b||!this.paused&&this._visible)&&this.renderer.render(this.stage)},i.destroy=function(){this.stage.removeChildren(),this.stage.destroy(),this.renderer.destroy(),this.renderer=null,h.destroy.call(this)},namespace("springroll").PixiDisplay=g,namespace("springroll.pixi").PixiDisplay=g}();}();