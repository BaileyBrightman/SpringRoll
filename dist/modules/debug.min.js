/*! SpringRoll 0.0.7 */
!function(){"use strict";!function(a,b){function c(a){var b="color:"+a;return function(a){if(arguments.length>1){var c=e.call(arguments);if("object"==typeof c[0])c.unshift(b),c.unshift("%c%o");else{var d="%c"+c[0];c[0]=b,c.unshift(d)}return f.log.apply(f,c)}return"object"==typeof arguments[0]?f.log("%c%o",b,a):f.log("%c"+a,b)}}var d=include("springroll.Enum"),e=Array.prototype.slice,f={},g=a.console!==b,h=document.documentMode===b,i="DEBUG";if(g)try{console.assert.apply(console,[!0,"IE9 test"])}catch(j){for(var k,l=Function.prototype.bind,m=["log","debug","warn","info","error","assert","dir","trace","group","groupCollapsed","groupEnd"],n=0;n<m.length;n++)k=m[n],console[k]&&(console[k]=l.call(console[k],console))}var o=f.Levels=new d("GENERAL",i,"INFO","WARN","ERROR");f.minLogLevel=o.GENERAL,f.enabled=!0,f.output=null;var p=1026,q=!1,r=null,s=null,t=null,u={},v=["log","debug","warn","info","error","assert","dir","trace","group","groupCollapsed","groupEnd","_remoteLog","globalErrorHandler","navy","blue","aqua","teal","olive","green","lime","yellow","orange","red","pink","purple","maroon","silver","gray"],w=/(:\d+)+/;f.connect=function(b){if(!("WebSocket"in a||"MozWebSocket"in a))return!1;a.WebSocket=WebSocket||MozWebSocket;try{r=new WebSocket("ws://"+b+":"+p),r.onopen=x,r.onclose=y,r.onerror=y,t=[],q=!0}catch(c){return!1}return!0},f.disconnect=function(){q&&(r.close(),y())};var x=function(){a.onerror=u.globalErrorHandler,s={level:"session",message:"",stack:null,time:0},r.send(JSON.stringify(s));for(var b=0,c=t.length;c>b;++b)r.send(JSON.stringify(t[b]));t=null};u.globalErrorHandler=function(a,b,c,d,e){return f._remoteLog(a,o.ERROR,e?e.stack:null),!1};var y=function(){a.onerror=null,q=!1,r.onopen=null,r.onmessage=null,r.onclose=null,r.onerror=null,r=null,s=null,t=null},z=function(a,b){f.output&&(f.output.innerHTML+='<div class="'+a+'">'+b+"</div>")};f._remoteLog=function(a,b,c){b=b||o.GENERAL,Array.isArray(a)||(a=[a]),a=e.call(a);var d,g;for(d=0,g=a.length;g>d;d++)if("object"==typeof a[d])try{a[d]=B(a[d],3)}catch(h){a[d]=String(a[d])}c||(c=(new Error).stack),c=c?c.split("\n"):[];var i,j,k,l,m,n,p=-1,q=!0;for(d=0,g=c.length;g>d;++d){var u=c[d].trim();if(u)if("Error"==u||u.indexOf("Error:")>-1)p=d;else{if(u.indexOf("@")>-1){if(i=u.indexOf("@"),j=u.substring(0,i),m=-1!=j.indexOf(".")?j.substring(j.lastIndexOf(".")+1):j,q&&-1!=v.indexOf(m)){p=d;continue}k=u.substring(i+1)}else{if(i=u.indexOf("("),j=u.substring(3,i-1),m=-1!=j.indexOf(".")?j.substring(j.lastIndexOf(".")+1):j,q&&-1!=v.indexOf(m)){p=d;continue}k=u.substring(i+1,u.length-2)}n=w.exec(k),k=k.substring(0,n.index),l=n[0].substring(1),q=!1,c[d]={"function":j||"<anonymous>",file:k,lineLocation:l}}else if(d==g-1){c.pop();break}}if(p>=0&&(c=c.slice(p+1)),t)t.push({message:a,level:b.name,stack:c,time:Date.now()});else{s.level=b.name,s.message=a,s.stack=c,s.time=Date.now();var x;try{x=JSON.stringify(s)}catch(h){s.message=["[circular object]"],x=JSON.stringify(s)}r.send(x)}return f};var A=[],B=function(a,b,c){if(Array.isArray(a))return a;c=c||0,0===c&&(A.length=0),A.push(a);var d={};for(var e in a){var f=a[e];if(f instanceof Window||f instanceof Document||f instanceof HTMLElement||"document"==e||"window"==e||"ownerDocument"==e||"view"==e||"target"==e||"currentTarget"==e||"originalTarget"==e||"explicitOriginalTarget"==e||"rangeParent"==e||"srcElement"==e||"relatedTarget"==e||"fromElement"==e||"toElement"==e){if(f instanceof HTMLElement){var g;g="<"+f.tagName,f.id&&(g+=" id='"+f.id+"'"),f.className&&(g+=" class='"+f.className+"'"),d[e]=g+" />"}}else switch(typeof f){case"object":d[e]=c>b||A.indexOf(f)>-1?String(f):B(f,b,c+1);break;case"function":d[e]="[function]";break;case"string":case"number":case"boolean":case"bool":d[e]=f;break;default:d[e]=f}}return d};f.log=function(a){return f.enabled?(q?f._remoteLog(arguments):f.minLogLevel==o.GENERAL&&(g&&(1===arguments.length?console.log(a):console.log.apply(console,arguments)),z("general",a)),f):f},f.debug=function(a){return f.enabled?(q?f._remoteLog(arguments,o[i]):f.minLogLevel.asInt<=o[i].asInt&&(g&&(console.debug?1===arguments.length?console.debug(a):console.debug.apply(console,arguments):1===arguments.length?console.log(a):console.log.apply(console,arguments)),z("debug",a)),f):f},f.info=function(a){return f.enabled?(q?f._remoteLog(arguments,o.INFO):f.minLogLevel.asInt<=o.INFO.asInt&&(g&&(1===arguments.length?console.info(a):console.info.apply(console,arguments)),z("info",a)),f):f},f.warn=function(a){return f.enabled?(q?f._remoteLog(arguments,o.WARN):f.minLogLevel.asInt<=o.WARN.asInt&&(g&&(1===arguments.length?console.warn(a):console.warn.apply(console,arguments)),z("warn",a)),f):f},f.error=function(a){return f.enabled?(q?f._remoteLog(arguments,o.ERROR):(g&&(1===arguments.length?console.error(a):console.error.apply(console,arguments)),z("error",a)),f):void 0},f.assert=function(a,b){return f.enabled&&(a||(z("error",b),q&&f._remoteLog(b,o.ERROR)),g&&console.assert&&console.assert(a,b)),f},f.dir=function(a){return f.enabled&&(q?f._remoteLog(arguments,o.GENERAL):g&&(1===arguments.length?console.dir(a):console.dir.apply(console,arguments))),f},f.clear=function(){return f.enabled&&(q&&f._remoteLog("","clear"),g&&console.clear(),f.output&&(f.output.innerHTML="")),f},f.trace=function(a){return f.enabled&&(q?f._remoteLog(arguments,o.GENERAL):g&&(1===arguments.length?console.trace(a):console.trace.apply(console,arguments))),f},f.group=function(){return f.enabled&&(q?f._remoteLog(arguments,"group"):g&&console.group&&console.group.apply(console,arguments)),f},f.groupCollapsed=function(){return f.enabled&&(q?f._remoteLog(arguments,"groupCollapsed"):g&&console.groupCollapsed&&console.groupCollapsed.apply(console,arguments)),f},f.groupEnd=function(){return f.enabled&&(q?f._remoteLog(arguments,"groupEnd"):g&&console.groupEnd&&console.groupEnd()),f};var C={navy:"#001F3F",blue:"#0074D9",aqua:"#7FDBFF",teal:"#39CCCC",olive:"#3D9970",green:"#2ECC40",lime:"#01FF70",yellow:"#FFDC00",orange:"#FF851B",red:"#FF4136",pink:"#F012BE",purple:"#B10DC9",maroon:"#85144B",silver:"#ddd",gray:"#aaa"};for(var D in C)f[D]=h?c(C[D]):f.log;a.Debug=f}(window);}();