/*! CloudKidFramework 0.0.3 */
!function(){"use strict";!function(a,b,c){var d={};d.VERSION="${version}";var e=null,f=null,g=null,h=null,i=Array.prototype.slice;d.load=function(a,c,f){var h=null;if("function"==typeof c?f=c:"string"==typeof c&&(h=c),"string"==typeof a){var i=function(a){d.load(a,h),f&&f()};b.get(a,i,"json")}else e=e||{},h?(e[h]=a,g=h):b.extend(e,a),j();return d},d.fileSeparator="_",d.reset=function(){return e=g=h=f=null,d},d.autoDetect=function(b){var d=a.navigator.userLanguage||a.navigator.language;b=b===c?!0:b;var e=d.substr(0,2);return g=b?[d,e]:e,j(),g},Object.defineProperty(d,"fallbackLocale",{set:function(a){h=a,j()},get:function(){return h}}),Object.defineProperty(d,"locale",{set:function(a){g=a,j()},get:function(){return g}});var j=function(){if(g&&e){f={};for(var a=k(),c=a.length-1;c>=0;c--){var d=a[c];b.extend(f,e[d]||{})}b("[data-localize]")._t(),b("[data-localize-file]")._f()}},k=function(){var a="string"==typeof g?[g]:g.slice(0);return h&&-1==a.indexOf(h)&&a.push(h),a},l=function(a){if(!f)throw"Must call Translate.load() before getting the translation";if(!f.hasOwnProperty(a))throw"No translation string found matching '"+a+"'";return a=f[a],args=i.call(arguments),args[0]=a,n.apply(null,args)},m=function(a){if(!g)return a;for(var b,c,e=k(),f=a.lastIndexOf("."),h=new XMLHttpRequest,i=0,j=e.length;j>i;i++)if(c=e[i],b=a.substring(0,f)+d.fileSeparator+c+a.substring(f,a.length),h.open("HEAD",b,!1),h.send(),404!=h.status)return b;return a},n=function(a,c){return arguments.length<2?a:(c=b.isArray(c)?c:i.call(arguments,1),a.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(a,b,d){return d?b+c[parseInt(d)-1]:b+c.shift()}).replace(/%%s/g,"%s"))};b.fn._t=function(){var a=arguments;return this.each(function(){var c=b(this),d=i.call(a,0);if(0===d.length){var e=c.data("localize"),f=c.data("localize-values");if(!e)throw"Must either pass in a key to localize or use the data-localize attribute";Array.prototype.push.call(d,e),f&&(d=d.concat(f.split(",")))}return c.html(l.apply(null,d))})},b.fn._f=function(a){var c=b(this);if(0!==c.length){var d=c.data("localize-file")||c.attr("src");return c.data("localize-file",d),c.attr(a||"src",m(d))}},a._t=l,a._f=m,namespace("cloudkid").Translate=d}(window,jQuery);}();