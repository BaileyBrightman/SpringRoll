/*! SpringRoll 0.0.6 */
!function(){"use strict";!function(a){var b=springroll.CacheManager,c=function(a){if(g)throw"Only one Language can exist at a time!";if(g=this,EventDispatcher.call(this),!a.languages||!a.default)throw"Language requires a language dictionary and a default language!";this._replace=a.replace||"%LANG%",this._current=null,this._default=a.default,this.languages=a.languages,this.setLanguage(this.getPreferredLanguages()),this.modifyUrl=this.modifyUrl.bind(this),b.instance.registerURLFilter(this.modifyUrl)},d=EventDispatcher.prototype,e=c.prototype=Object.create(d),f="changed",g=null;Object.defineProperty(c,"instance",{get:function(){return g}}),Object.defineProperty(e,"current",{get:function(){return this._current}}),e.getSupportedLanguages=function(){var a=[];for(var b in this.languages)a.push(b);return a},e.getPreferredLanguages=function(){var b,c=a.navigator;return b=c.languages?c.languages:c.language?[c.language||c.userLanguage]:[]},e.setLanguage=function(a){if(a){Array.isArray(a)||(a=[a]);for(var b,c=0,d=a.length;d>c;++c){var e=a[c];if(this.languages[e]){b=e;break}if(e.indexOf("-")>=0&&(e=e.split("-")[0],this.languages[e])){b=e;break}}b||(b=this._default),b!=this._current&&(this._current=b,this.trigger(f,b))}},e.modifyUrl=function(a){for(;a.indexOf(this._replace)>=0;)a=a.replace(this._replace,this._current);return a},e.destroy=function(){d.destroy.call(this),b.instance&&b.instance.unregisterURLFilter(this.modifyUrl),this.modifyUrl=this.languages=null},namespace("springroll").Language=c}(window),function(a,b){var c=include("jQuery"),d={},e=null,f=null,g=null,h=null,i=Array.prototype.slice;d.load=function(a,b,f){var h=null;if("function"==typeof b?f=b:"string"==typeof b&&(h=b),"string"==typeof a){var i=function(a){d.load(a,h),f&&f()};c.get(a,i,"json")}else e=e||{},h?(e[h]=a,g=h):c.extend(e,a),j();return d},d.fileSeparator="_",d.reset=function(){return e=g=h=f=null,d},d.autoDetect=function(c){var d=a.navigator.userLanguage||a.navigator.language;c=c===b?!0:c;var e=d.substr(0,2);return g=c?[d,e]:e,j(),g},Object.defineProperty(d,"fallbackLocale",{set:function(a){h=a,j()},get:function(){return h}}),Object.defineProperty(d,"locale",{set:function(a){g=a,j()},get:function(){return g}});var j=function(){if(g&&e){f={};for(var a=k(),b=a.length-1;b>=0;b--){var d=a[b];c.extend(f,e[d]||{})}c("[data-localize]")._t(),c("[data-localize-file]")._f()}},k=function(){var a="string"==typeof g?[g]:g.slice(0);return h&&-1==a.indexOf(h)&&a.push(h),a},l=function(a){if(!f)throw"Must call Translate.load() before getting the translation";if(!f.hasOwnProperty(a))throw"No translation string found matching '"+a+"'";return a=f[a],args=i.call(arguments),args[0]=a,n.apply(null,args)},m=function(a){if(!g)return a;for(var b,c,e=k(),f=a.lastIndexOf("."),h=new XMLHttpRequest,i=0,j=e.length;j>i;i++)if(c=e[i],b=a.substring(0,f)+d.fileSeparator+c+a.substring(f,a.length),h.open("HEAD",b,!1),h.send(),404!=h.status)return b;return a},n=function(a,b){return arguments.length<2?a:(b=c.isArray(b)?b:i.call(arguments,1),a.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(a,c,d){return d?c+b[parseInt(d)-1]:c+b.shift()}).replace(/%%s/g,"%s"))};c.fn._t=function(){var a=arguments;return this.each(function(){var b=c(this),d=i.call(a,0);if(0===d.length){var e=b.data("localize"),f=b.data("localize-values");if(!e)throw"Must either pass in a key to localize or use the data-localize attribute";Array.prototype.push.call(d,e),f&&(d=d.concat(f.split(",")))}return b.html(l.apply(null,d))})},c.fn._f=function(a){var b=c(this);if(0!==b.length){var d=b.data("localize-file")||b.attr("src");return b.data("localize-file",d),b.attr(a||"src",m(d))}},a._t=l,a._f=m,namespace("springroll").Translate=d}(window);}();