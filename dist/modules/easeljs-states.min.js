/*! SpringRoll 0.4.0 */
!function(){"use strict";!function(){var a,b,c,d=include("createjs.Container"),e=function(){c||(c=include("springroll.Application"),a=include("springroll.easeljs.DwellTimer",!1),b=include("springroll.Animator",!1)),d.call(this),this.app=c.instance,this.config=this.app.config,this.background=null},f=extend(e,d);f.setup=function(){},f.teardown=function(){var a=this.children.slice();this.cleanupChildren.apply(this,a)},f.cleanupChildren=function(c){var d,e,f=arguments.length;for(e=0;f>e;e++)d=arguments[e],d&&(Array.isArray(d)&&d.length>0?this.cleanupChildren.apply(this,d):(a&&a.destroy(d),b&&b.stop(d,!0),d.stop&&d.stop(),d.destroy&&d.destroy(),d.removeAllChildren&&d.removeAllChildren(!0),this.contains(d)&&this.removeChild(d)))},f.destroy=function(){this.app=null,this.config=null,this.background=null,this.removeAllChildren()},namespace("springroll.easeljs").BasePanel=e}(),function(a){var b,c,d=include("springroll.State"),e=function(a,e){if(Application||(Application=include("springroll.Application"),c=include("springroll.easeljs.BasePanel"),b=include("springroll.Debug",!1)),!(a instanceof c))throw"springroll.State requires the panel be a springroll.easeljs.BasePanel";e=e||{},e.manifest&&(e.preload=e.manifest),d.call(this,a,e),this._images=[],this.on("loaded",this.onAssetsLoaded).on("preloading",function(a){console.warn("addTasks has been deprecated, use assetsLoading event instead: e.g., state.on('assetsLoading', function(assets){})"),this.addTasks(a)}).on("preloaded",function(a){if(a)for(var b in a)("IMG"==a[b].tagName||"CANVAS"==a[b].tagName)&&(images[b]=a[b],this._images.push(b));this.panel.setup()}).on("exit",function(){this.panel.teardown(),this._images.forEach(function(a){delete images[a]}),this._images.length=0})},f=d.prototype,g=extend(e,d);g.addTasks=function(){},g.onAssetsLoaded=function(){},g.destroy=function(){this._images=null,this.panel.destroy(),f.destroy.call(this)},namespace("springroll.easeljs").BaseState=e}(),function(a){var b,c,d=include("springroll.ApplicationPlugin"),e=new d;e.setup=function(){this.options.add("manifestsPath",null,!0),this.options.override("fps",30),this.options.override("display",include("springroll.easeljs.EaselJSDisplay")),this.options.override("displayOptions",{clearView:!0}),this.options.override("canvasId","stage"),b=include("springroll.Debug",!1),c=include("springroll.easeljs.BaseState"),this._manifests={},Object.defineProperty(this,"manifests",{get:function(){return this._manifests}}),this.once("loading",function(a){var b=this.options.manifestsPath;b&&a.push({id:"manifests",src:b,complete:f.bind(this)})})};var f=function(a,b,c){Object.merge(this._manifests,a),this.trigger("manifestLoaded",c)};e.teardown=function(){this._manifests=null}}(),function(a){var b=include("springroll.easeljs.BasePanel"),c=include("springroll.easeljs.BaseState");a.defineProperty(b.prototype,"game",{get:function(){return console.warn("BasePanel's game property is now deprecated, please use the app property, e.g. : panel.app"),this.app}}),a.defineProperty(c.prototype,"game",{get:function(){return console.warn("BaseState's game property is now deprecated, please use the app property, e.g. : state.app"),this.app}}),a.defineProperty(c.prototype,"manifest",{get:function(){return console.log("BaseState's manifest property is now deprecated, please use preload property, e.g. : state.preload"),this.preload}}),a.defineProperty(c.prototype,"assetsLoaded",{get:function(){return console.log("BaseState's assetsLoaded property is now deprecated, please use preloaded property, e.g. : state.preloaded"),this.preloaded}})}(Object);}();